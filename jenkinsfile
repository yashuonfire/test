pipeline {
    agent any
    
    parameters {
        extendedChoice(
            name: 'Dropdown1',
            type: 'PT_MULTI_SELECT',
            multiSelectDelimiter: ',',
            value: '',
            description: 'Select multiple values from Dropdown 1:',
            visibleItemCount: 3,
            choices: 'Value 1\nValue 2\nValue 3'
        )
        
        extendedChoice(
            name: 'Dropdown2',
            type: 'PT_MULTI_SELECT',
            multiSelectDelimiter: ',',
            value: '',
            description: 'Select multiple values from Dropdown 2:',
            visibleItemCount: 3,
            choices: 'Option A\nOption B\nOption C'
        )
    }
    
    stages {
        stage('Get Selected Values') {
            steps {
                script {
                    def selectedValuesDropdown1 = params.Dropdown1.split(',')
                    def selectedValuesDropdown2 = params.Dropdown2.split(',')
                    
                    echo "Selected Values from Dropdown 1: ${selectedValuesDropdown1}"
                    echo "Selected Values from Dropdown 2: ${selectedValuesDropdown2}"
                    
                    // Pass selectedValuesDropdown1 and selectedValuesDropdown2 to other stages
                    // You can perform other actions here based on the selected values
                }
            }
        }
        
        // Add more stages as needed
    }
}
